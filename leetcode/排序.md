# æ’åº

## å¿«é€Ÿæ’åº

### åŸºæœ¬ç®—æ³•

ç›´æ¥ä½¿ç”¨åˆ‡ç‰‡

```go
func QuickSort(a []int) {
    if len(a) == 0 {
        return
    }
    p := partition(a)
    QuickSort(a[:p])
    QuickSort(a[p+1:])
}

func partition(a []int) int {
    pivot := a[0]
    l, r := 0, len(a)-1
    for l < r {
        // ä»å³è¾¹å¼€å§‹
        for l < r && a[r] >= pivot {
            r--
        }
        for l < r && a[l] <= pivot {
            l++
        }
        if l < r {
            // äº¤æ¢å…ƒç´ l,r
            a[l], a[r] = a[r], a[l]
        }
    }
    // äº¤æ¢å…ƒç´ 0å’Œå…ƒç´ l
    a[0], a[l] = a[l], a[0]
    return l
}
```

æˆ–è€…ä½¿ç”¨å‚æ•°æ§åˆ¶è¾¹ç•Œ

```go
func QuickSort(a []int, low, high int) {
    if low >= high {
        return
    }
    p := partition(a, low, high)
    QuickSort(a, low, p-1)
    QuickSort(a, p+1, high)
}

func partition(a []int, low, high int) int {
    // å–æœ€å·¦å…ƒç´ ä¸ºæ¢è½´
    pivot := a[low]
    l, r := low, high
    for l < r {
        // ä»å³è¾¹å¼€å§‹
        for l < r && a[r] >= pivot {
            r--
        }
        for l < r && a[l] <= pivot {
            l++
        }
        if l < r {
            // äº¤æ¢å…ƒç´ l,r
            a[l], a[r] = a[r], a[l]
        }
    }
    // äº¤æ¢æœ€å·¦å…ƒç´ å’Œå…ƒç´ l
    a[low], a[l] = a[l], a[low]
    return l
}
```

### å¿«é€Ÿé€‰æ‹©

åˆ©ç”¨`partition`å‡½æ•°å¯ä»¥å®ç°å¿«é€Ÿé€‰æ‹©.

ğŸŒ°æ —å­

#### [215. æ•°ç»„ä¸­çš„ç¬¬Kä¸ªæœ€å¤§å…ƒç´ ](https://leetcode-cn.com/problems/kth-largest-element-in-an-array/)

```go
func FindKthLargest(nums []int, k int) int {
    low, high := 0, len(nums)-1
    // ç¬¬Kå¤§çš„æ•°çš„ç´¢å¼•å€¼åº”ä¸ºN-K
    k = len(nums) - k
    // [low, high]æ˜¯é—­åŒºé—´ï¼Œæ‰€ä»¥è¦å–ç­‰å·
    for low <= high {
        p := partition(nums, low, high)
        if p == k {
            return nums[p]
        } else if k < p {
            // å‘å·¦æ”¶ç¼©
            high = p - 1
        } else {
            // å‘å³æ”¶ç¼©
            low = p + 1
        }
    }
    return -1
}
```

å¿«é€Ÿé€‰æ‹©çš„æ—¶é—´å¤æ‚åº¦æ˜¯$O(n)$

